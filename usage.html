<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Usage &mdash; NeuCnt3D 0.1.0 documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/sphinx_highlight.js"></script>
        <script src="https://docs.python.org/3/_static/copybutton.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Python module index" href="modules.html" />
    <link rel="prev" title="Welcome to NeuCnt3D’s documentation!" href="index.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            NeuCnt3D
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Usage</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#microscopy-image-format">Microscopy image format</a></li>
<li class="toctree-l2"><a class="reference internal" href="#blob-detection-configuration">Blob detection configuration</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="modules.html">Python module index</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">NeuCnt3D</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Usage</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/usage.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="usage">
<span id="id1"></span><h1>Usage<a class="headerlink" href="#usage" title="Permalink to this heading">¶</a></h1>
<section id="microscopy-image-format">
<span id="format"></span><h2>Microscopy image format<a class="headerlink" href="#microscopy-image-format" title="Permalink to this heading">¶</a></h2>
<p>The NeuCnt3D tool supports RGB or grayscale image stacks in TIF/TIFF format.
Alternatively, a .yml stitch file generated by the ZetaStitcher tool for large volumetric stitching
[<a class="reference external" href="https://github.com/lens-biophotonics/ZetaStitcher">ZetaStitcher GitHub</a>]
may be provided. This .yml file can be obtained following the detailed documentation available at
[<a class="reference external" href="https://lens-biophotonics.github.io/ZetaStitcher/">ZetaStitcher Documentation</a>]
from a collection of 3D stacks composing a tiled image reconstruction.
The .yml and the image stack files must be located within the same directory.
The NeuCnt3D tool exploits the 3D alignment information included in the .yml file
in order to programmatically access and process batches of basic image sub-volumes using parallel processes or threads,
enabling the analysis of high-resolution microscopy reconstructions of considerable extension
even on low resource machines.</p>
</section>
<section id="blob-detection-configuration">
<h2>Blob detection configuration<a class="headerlink" href="#blob-detection-configuration" title="Permalink to this heading">¶</a></h2>
<p>The NeuCnt3D tool makes use of the Laplacian of Gaussian (LoG) or the Difference of Gaussian (DoG) blob detection approaches
of the scikit-image library to perform an unsupervised localization of neuronal bodies in volumetric fluorescence
microscopy images [<a class="reference external" href="https://scikit-image.org/docs/stable/auto_examples/features_detection/plot_blob.html#sphx-glr-auto-examples-features-detection-plot-blob-py">Blob Detection</a>].
The targeted soma diameter range can be tuned providing the minimum, maximum and step sizes via CLI:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>python<span class="w"> </span>-m<span class="w"> </span>neuCnt3d<span class="w"> </span>../tiled_img/stitch.yml<span class="w"> </span>--min-diam<span class="w"> </span><span class="m">10</span><span class="w"> </span>--max-diam<span class="w"> </span><span class="m">40</span><span class="w"> </span>--stp-diam<span class="w"> </span><span class="m">2</span>
</pre></div>
</div>
<p>The blob detector may be further configured by specifying the maximum percentage overlap between two adjacent blobs,
and the minimum percentage peak intensity relative to the maximum value of the image filtered at the different scales of interest:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>python<span class="w"> </span>-m<span class="w"> </span>neuCnt3d<span class="w"> </span>../tiled_img/stitch.yml<span class="w"> </span>--overlap<span class="w"> </span><span class="m">50</span><span class="w"> </span>--thresh<span class="w"> </span><span class="m">25</span>
</pre></div>
</div>
<p>The NeuCnt3D tool will compile a .csv log file including the 3D spatial coordinates of the detected cell bodies
along with the radius corresponding to the maximum local response of the multiscale LoG or DoG filters.
Finally, detected cell bodies may also be visualized in the Napari viewer by providing the optional -v flag:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>python<span class="w"> </span>-m<span class="w"> </span>neuCnt3d<span class="w"> </span>../tiled_img/stitch.yml<span class="w"> </span>-v
</pre></div>
</div>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="index.html" class="btn btn-neutral float-left" title="Welcome to NeuCnt3D’s documentation!" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="modules.html" class="btn btn-neutral float-right" title="Python module index" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2023, Michele Sorelli.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>